<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <div class="demo-form">
      <h2>Registration</h2>
      <table>
        <tbody>
          <tr class="form-user">
            <td>
              User Name:
            </td>
            <td>
              <input type="text" id="username" placeholder="Username" />
            </td>
          </tr>
          <tr class="form-email">
            <td>
              Email:
            </td>
            <td>
              <input type="text" id="email" placeholder="Email" />
            </td>
          </tr>
          <tr class="form-password">
            <td>
              Password:
            </td>
            <td>
              <input type="password" id="password" placeholder="Password" />
            </td>
          </tr>
          <tr class="form-submit">
            <td colspan="2">
              <button type="button" class="btn btn-success" id="submitdata">
                Submit
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
  <script>
    $(document).ready(function() {
      var url = "https://testrestapifordemo.herokuapp.com/registration";
      // var url = "http://localhost:3000/registration";
      $("#submitdata").click(function() {
        var user = {
          name: $("#username").val(),
          email: $("#email").val(),
          password: $("#password").val()
        };
        var registerData = $.ajax({
          url: url,
          type: "POST",
          data: user,
          dataType: "json",
          async: false,
          error: function(error) {
            console.log("error", error);
          }
        }).responseJSON;
        if(registerData.success === true) {
          alert("Registration successfull \n email : " + registerData.data.email + " \n Username : " + registerData.data.userName);
        } else {
          alert(registerData.message);
        }
      });
    });
  </script>
</html>
